<app-dashboard [username]="username" (logout)="handleLogout()"></app-dashboard>
<main>
  <mat-card class="center-card mat-elevation-z8">
    <h1>Shorten your link</h1>
    <p class="subtitle">Paste your long URL below</p>
    <form class="shorten-form" (ngSubmit)="shortenUrl()" #shortenForm="ngForm">
      <mat-form-field appearance="fill" class="url-field">
        <mat-label>Paste your long URL here</mat-label>
        <input matInput type="url" name="longUrl" [(ngModel)]="longUrl" required />
      </mat-form-field>
      <button mat-raised-button color="primary" type="submit">Shorten</button>
    </form>
    <div *ngIf="shortUrl" class="short-url-result">
      <span>Short URL:</span>
      <a [href]="shortUrl" target="_blank">{{ shortUrl }}</a>
      <button mat-stroked-button color="accent" (click)="copyShortUrl()">Copy</button>
    </div>
    <div *ngIf="error" class="error">{{ error }}</div>
    <div *ngIf="!username" class="guest-info">
      <p>Want to track your links? <a routerLink="/login">Login</a> or <a routerLink="/register">Register</a></p>
    </div>
  </mat-card>
</main>
